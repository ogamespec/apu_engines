# APU Engine Basics

Тут собрана предварительная информация об устройстве движков.

Со временем как движки будут изучены мной, будет расширено и это описание.

## MUSIC vs SFX

В играх обычно присутствуют два типа звуковых сущностей: MUSIC и SFX

MUSIC - это длительная мелодия, играющая на фоне.

SFX - короткий звуковой эффект (шаги, выстрелы и проч.)

## FSM

Игровой движок по сути является FSM. Переключение между стейтами производится главной процедурой типа `Play`.

Обычно вызов `Play` производится периодически в обработчике NMI (VBlank).

## DPCM

APU способен воспроизводить DPCM звук на фоне. Обычно в ROM для этого зашит большой массив с оцифрованным звуком и он запускается на воспроизведение когда требуется.

## APU Engine vs Mappers

Если игра использует маппер с переключением банков, то нужно чтобы при переключении банков ничего не сломалось.
